<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>movie list</title>
    
</head>
<style>
    * {
  
  font-family: "Montserrat", sans-serif;
}
    .h1-title{
        text-align: center;
        color: #2c2;
    }
    .middle{
        margin-left: auto;
        margin-right: auto;
    }
    body{
        background: #222;
    }
    table, th, td {
        
      border:1px solid #2c2;
      border-collapse: collapse;
      color: #2c2;
    }
    #ex-table td{
        text-align: center;
        vertical-align: middle;
    }
    #ex-table th{
        color: aliceblue;
    }
    </style>
<body>
    <div class="h1-title">
        <h1>Movie List</h1>    
        
        <form action="index.html">
            <input type="submit" value="movie db" />
        </form>
        
    </div>
</br>
</br>
</br>
</br>
      <table class = "middle" style="width:60%" id="ex-table">
        <tr>
          <th>IMDB</th>
          <th>MovieName</th>
          <th>Director</th>
          <th>Running</th>
          <th>Rating</th>
          <th>Released</th>
        </tr>
      </table>
      <script>

function sortTable(){
    console.log("implement");
            var table, rows, switching, i, x, y,j, shouldSwitch;
            table = document.getElementById("ex-table");
            
            
                rows = table.rows;
                /*Loop through all table rows (except the
                first, which contains table headers):*/
                for (i = 1; i < (rows.length); i++) {
                    for (j=1; j<rows.length-i; j++){
                        x = Number(rows[j].getElementsByTagName("TD")[4].innerHTML);
                    
                        console.log(typeof(x));
                        y = Number(rows[j+1].getElementsByTagName("TD")[4].innerHTML);
                        
                        console.log(y);
                        if(x<y){
                            rows[j].parentNode.insertBefore(rows[j+1],rows[j]);
                            
                        }
                    }
                    
                    //check if the two rows should switch place:
                    
                    
                }
        
        }

    
</script>

      <script type="module">
        
        
        window.onload = function() {
        if(!window.location.hash) {
        window.location = window.location + '#loaded';
        window.location.reload();
    }
}
        var script = document.createElement('script');
script.src = 'https://code.jquery.com/jquery-3.6.3.min.js'; // Check https://jquery.com/ for the current version
document.getElementsByTagName('head')[0].appendChild(script);
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.2/firebase-app.js";
const firebaseConfig = {
  apiKey: "AIzaSyDqRsgbiUdtmvkA8l0xg1YHo234rZGjctY",
  authDomain: "movie-database-80fc8.firebaseapp.com",
  databaseURL: "https://movie-database-80fc8-default-rtdb.firebaseio.com",
  projectId: "movie-database-80fc8",
  storageBucket: "movie-database-80fc8.firebasestorage.app",
  messagingSenderId: "398555772218",
  appId: "1:398555772218:web:fae30f63ed1fdc0d628c03",
  measurementId: "G-JX16E7W4BY"
};
var content ="";

// Initialize Firebase
const app = initializeApp(firebaseConfig);


// end firebase 

            import {getDatabase, orderByValue, ref, onValue, get, set, child, update, remove}
            from "https://www.gstatic.com/firebasejs/11.0.2/firebase-database.js"
            const db = getDatabase();
            
            var starcountref = ref(db, "movie/");

            
            onValue(starcountref, (snapshot) => {
                //const data = snapshot.val();
                var content ="";
                snapshot.forEach(function(data){
                    var val = data.val();
                    var imdbLink = "https://www.imdb.com/title/" + val.IMDB;
                    console.log(imdbLink);
                    content+='<tr>';
                    content+='<td><a href="'+imdbLink+'">'+val.IMDB+'</a></td>';
                    content+='<td>'+val.Title +'</td>';
                    content+='<td>'+val.Director+'</td>';
                    content+='<td>'+val.Runtime+'</td>';
                    content+='<td>'+val.Rating+'</td>';
                    content+='<td>'+val.Released+'</td>';
                    content+='</tr>';
                });
                //location.reload();
                
                $('#ex-table').append(content);
                
                sortTable();
            });

            
            
            
             
      </script>
      <nav>
       <ul>
        
      </ul>
      </nav> 
</body>
</html>
